# Notes
# Base AI weight is 100
# AI will grab whatever policy has the heighest weight
stellar_evolution_access = {
	potential = {
		any_owned_starbase = {
			solar_system = {
				has_star_flag = stellar_evolution_active
			}
		}
	}
	option = {
		name = "stellar_evolution_access_unset"
		potential = {
			always = yes
		}
		ai_weight = {
			weight = 0
		}
	}
	option = {
		name = "stellar_evolution_access_open"
		policy_flags = {
			stellar_evolution_access_open
		}
		modifier = {
			all_technology_research_speed = 0.15
			diplo_weight_technology_mult = 0.4
			country_base_influence_produces_add = 0.5
		}
	}
	option = {
		name = "stellar_evolution_access_equal_committee"
		policy_flags = {
			stellar_evolution_access_equal_committee
		}
		valid = {
			OR = {
				AND = {
					OR = {
						is_xenophile = yes
						is_materialist = yes
					}
					is_xenophobe = no
				}
				has_ethic = ethic_gestalt_consciousness
			}
		}
		modifier = {
			diplo_weight_mult = 0.4
			diplo_weight_technology_mult = 1
			country_base_influence_produces_add = 2
			country_influence_produces_mult = 0.25
		}
		ai_weight = {
			weight = 200
			modifier = {
				factor = 1.5
				has_ai_personality_behaviour = multispecies
			}
		}
	}
	option = {
		name = "stellar_evolution_access_federation"
		policy_flags = {
			stellar_evolution_access_federation
		}
		potential = {
			has_federation = yes
		}
		modifier = {
			all_technology_research_speed = 0.25
			federation_research_sharing_mult = 0.1
		}
		ai_weight = {
			weight = 50
			# If a xenophobe can get into a federation, it must really like its federation allies.
			# So give it a high weight.
			modifier = {
				weight = 200
				is_xenophobe = yes
			}
		}
	}
	option = {
		name = "stellar_evolution_access_restricted"
		policy_flags = {
			stellar_evolution_access_restricted
		}
		valid = {
			NOT = {
				has_ethic = ethic_fanatic_xenophile
			}
		}
		modifier = {
			all_technology_research_speed = 0.3
			planet_jobs_unity_produces_mult = 0.1
			diplo_weight_technology_mult = -0.2
		}
		ai_weight = {
			modifier = {
				factor = 1.2
				is_materialist = yes
			}
			modifier = {
				factor = 1.5
				is_xenophobe = yes
			}
			modifier = {
				factor = 1.2
				has_valid_civic = civic_nationalistic_zeal
			}
		}
	}
	option = {
		name = "stellar_evolution_access_private"
		policy_flags = {
			stellar_evolution_access_private
		}
		valid = {
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				AND = {
					is_xenophobe = yes
					has_ethic = ethic_fanatic_materialist
				}
				has_ethic = ethic_gestalt_consciousness
			}
		}
		modifier = {
			all_technology_research_speed = 0.5
			country_base_physics_research_produces_add = 100
			country_base_society_research_produces_add = 100
			country_base_engineering_research_produces_add = 100
			planet_jobs_unity_produces_mult = 0.2
			diplo_weight_technology_mult = -0.4
		}
		ai_weight = {
			weight = 0
			modifier = {
				weight = 100
				is_xenophobe = yes
			}
			modifier = {
				factor = 2
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 1.2
				has_valid_civic = civic_technocracy
			}
			modifier = {
				factor = 1.2
				has_valid_civic = civic_nationalistic_zeal
			}
			modifier = {
				factor = 1.2
				any_rival_country = {
					count > 0
				}
			}
			# Purgers (FP, DS, DE) should always choose this
			modifier = {
				weight = 10000
				is_homicidal = yes
			}
		}
	}
}
